<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Smooth Scroll Animation</title>
<style>
  body, html {
    margin: 0;
    padding: 0;
    height: 300%; /* Adjust this for longer or shorter scroll lengths */
  }
  img {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    max-width: 100%;
    height: auto;
  }
</style>
</head>
<body>

<img id="scroll-animation" src="image/Hazen_Intro V4_00000.jpg" alt="Scroll animation frame">

<script>
  const frameCount = 139; // Total number of images
  const baseImagePath = "image/Hazen_Intro V4_"; // Base path to the images
  const frameUrls = Array.from({ length: frameCount }, (_, index) => {
    const paddedIndex = String(index).padStart(5, '0');
    return `${baseImagePath}${paddedIndex}.jpg`;
  });

  // Preload images
  function preloadImages(urls) {
    urls.forEach(url => {
      const img = new Image();
      img.src = url;
    });
  }

  preloadImages(frameUrls); // Call this to preload all images

  const imgElement = document.getElementById('scroll-animation');
  let currentScrollPosition = window.scrollY;
  let targetScrollPosition = window.scrollY;
  let animationFrameId;

  function animateScroll() {
    // Calculate the difference between the current and target positions
    const difference = targetScrollPosition - currentScrollPosition;
    // Apply easing (Here, 0.1 is the easing factor, adjust as necessary for smoother or quicker transition)
    const delta = difference * 0.09;

    currentScrollPosition += delta;

    // Update the frame based on the currentScrollPosition
    const scrollFraction = currentScrollPosition / (document.body.scrollHeight - window.innerHeight);
    const frameIndex = Math.min(frameCount - 1, Math.floor(scrollFraction * frameCount));
    imgElement.src = frameUrls[frameIndex];

    // Continue the animation if there's a significant difference between current and target
    if (Math.abs(delta) > 0.5) {
      animationFrameId = requestAnimationFrame(animateScroll);
    } else {
      // Stop the animation frame if the difference is minimal
      cancelAnimationFrame(animationFrameId);
      animationFrameId = null; // Reset the animation frame ID
    }
  }

  window.addEventListener('scroll', () => {
    targetScrollPosition = window.scrollY;
    if (!animationFrameId) {
      animateScroll();
    }
  });
</script>

</body>
</html>



